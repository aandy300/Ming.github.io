"use strict";(self["webpackChunkweek8"]=self["webpackChunkweek8"]||[]).push([[0],{8e3:function(t,e,a){a.r(e),a.d(e,{default:function(){return G}});var n=a(3396),o=a(7139),i=a(9242);const s={class:"navbar navbar-expand-lg navbar-light justify-content-center border border-start-0 border-end-0 border-top border-bottom"},r={class:"navbar-nav flex-row overflow-auto navbar-custom-scroll"},l=(0,n.Uk)("其他用品"),c=(0,n._)("span",{class:"sr-only"},"(current)",-1),p=[l,c],d={class:"container mt-md-5 mt-3 mb-7"},g={class:"row"},u={class:"card border-0 mb-4 position-relative"},h=(0,n._)("i",{class:"bi bi-suit-heart position-absolute btn btn-lg",style:{right:"3px",top:"3px",color:"red"}},null,-1),v={class:"card-body p-0"},m={class:"mb-0 mt-3"},_={class:"fs-6 m-0",style:{height:"3rem",overflow:"hidden"},onmouseover:"this.style.color='#B08968';",onmouseout:"this.style.color='';"},b={class:"card-text text-muted mb-0",style:{height:"4.5rem",overflow:"hidden"}},f=["onClick"],k={class:"mb-0 text-muted text-end mt-2"},y={class:"h4 fw-bold text-end mt-1 fs-5"};function w(t,e,a,l,c,w){const x=(0,n.up)("router-link"),D=(0,n.up)("PaginationView");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",s,[(0,n._)("div",r,[(0,n._)("a",{class:"nav-item nav-link text-nowrap px-2",onClick:e[0]||(e[0]=t=>(c.category="all",w.getData())),onclick:"event.preventDefault()",href:"#"},"全部商品"),(0,n._)("a",{class:"nav-item nav-link text-nowrap px-2",onClick:e[1]||(e[1]=t=>(c.pagination={total_pages:1},c.category="type1")),onclick:"event.preventDefault()",href:"#"},"文物書籍"),(0,n._)("a",{class:"nav-item nav-link text-nowrap px-2",onClick:e[2]||(e[2]=t=>(c.pagination={total_pages:1},c.category="type2")),onclick:"event.preventDefault()",href:"#"},"周邊雜誌"),(0,n._)("a",{class:"nav-item nav-link text-nowrap px-2",onClick:e[3]||(e[3]=t=>(c.pagination={total_pages:1},c.category="type3")),onclick:"event.preventDefault()",href:"#"},p)])]),(0,n._)("div",d,[(0,n._)("div",g,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.filterDate(c.products),(t=>((0,n.wg)(),(0,n.iD)("div",{class:"col-md-3",key:t.id},[(0,n._)("div",u,[(0,n._)("div",{style:(0,o.j5)([{backgroundImage:`url(${t.imageUrl})`},{height:"325px","background-size":"cover","background-position":"center center"}])},null,4),(0,n.Wm)(x,{to:""},{default:(0,n.w5)((()=>[h])),_:1}),(0,n._)("div",v,[(0,n._)("h4",m,[(0,n.Wm)(x,{class:"card-text text-muted",to:`/product/${t.id}`,style:{"text-decoration":"none"}},{default:(0,n.w5)((()=>[(0,n._)("p",_,(0,o.zw)(t.title),1)])),_:2},1032,["to"])]),(0,n._)("p",b,(0,o.zw)(t.description),1),(0,n._)("button",{onClick:(0,i.iM)((e=>w.addToCart(t)),["prevent"]),type:"button",class:"btn btn-secondary position-absolute bottom-0 start-0 mb-2"},"加入購物車",8,f),(0,n._)("p",k,[(0,n._)("del",null,"NT$ "+(0,o.zw)(t.origin_price),1)]),(0,n._)("p",y,"NT$ "+(0,o.zw)(t.price),1)])])])))),128))]),(0,n.Wm)(D,{class:"mt-6",pages:c.pagination,onGetData:w.getData},null,8,["pages","onGetData"])])],64)}var x=a(4902);const D={"aria-label":"Page navigation example"},C={class:"pagination justify-content-center"},$=(0,n._)("span",{"aria-hidden":"true"},"«",-1),z=[$],T=["onClick"],M=(0,n._)("span",{"aria-hidden":"true"},"»",-1),P=[M];function j(t,e,a,s,r,l){return(0,n.wg)(),(0,n.iD)("nav",D,[(0,n._)("ul",C,[(0,n._)("li",{class:(0,o.C_)(["page-item",{disabled:!a.pages.has_pre}])},[(0,n._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,i.iM)((e=>t.$emit("get-data",r.inside_pages.current_page-1)),["prevent"]))},z)],2),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.pages.total_pages,(e=>((0,n.wg)(),(0,n.iD)("li",{class:(0,o.C_)(["page-item",{active:e===a.pages.current_page}]),key:e+"page"},[(0,n._)("a",{class:"page-link",href:"",onClick:(0,i.iM)((a=>t.$emit("get-data",e)),["prevent"])},(0,o.zw)(e),9,T)],2)))),128)),(0,n._)("li",{class:(0,o.C_)(["page-item",{disabled:!a.pages.has_next}])},[(0,n._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,i.iM)((e=>t.$emit("get-data",r.inside_pages.current_page+1)),["prevent"]))},P)],2)])])}var A={data(){return{inside_pages:{}}},props:["pages"],updated(){this.inside_pages=this.pages}},H=a(89);const N=(0,H.Z)(A,[["render",j]]);var W=N,Y={data(){return{category:"all",products:[],productsAll:[],pagination:""}},components:{PaginationView:W},methods:{getData(t=1){this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/ming123/products/?page=${t}`).then((t=>{console.log(t),this.products=t.data.products,this.pagination=t.data.pagination,console.log(this.products)})).catch((t=>{console.dir(t)}))},getDataAll(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ming123/products/all").then((t=>{this.productsAll=t.data.products})).catch((t=>{console.dir(t)}))},filterDate(t){if(console.log("filterDate"),"all"===this.category)return t;if("type1"===this.category){const e=t.filter((t=>"分類一"===t.category));return e}if("type2"===this.category){const e=t.filter((t=>"分類二"===t.category));return e}if("type3"===this.category){const e=t.filter((t=>"分類三"===t.category));return e}},addToCart(t,e=1){const a={product_id:t.id,qty:e};this.$http.post("https://vue3-course-api.hexschool.io/v2/api/ming123/cart",{data:a}).then((t=>{console.log("addToCart()",t),x.Z.emit("get-cart")})).catch((t=>{console.dir(t.data.message)}))}},mounted(){this.getData()}};const Z=(0,H.Z)(Y,[["render",w]]);var G=Z}}]);
//# sourceMappingURL=0.92f05d86.js.map