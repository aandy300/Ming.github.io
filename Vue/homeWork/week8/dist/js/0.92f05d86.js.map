{"version":3,"file":"js/0.92f05d86.js","mappings":"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","sources":["webpack://week8/./src/views/Front/ProductsView.vue","webpack://week8/./src/components/PaginationView.vue","webpack://week8/./src/components/PaginationView.vue?d04d","webpack://week8/./src/views/Front/ProductsView.vue?c50b"],"sourcesContent":["<template>\n    <!-- 分類 -->\n    <nav class=\"navbar navbar-expand-lg navbar-light justify-content-center border border-start-0 border-end-0 border-top border-bottom\">\n      <div class=\"navbar-nav flex-row overflow-auto navbar-custom-scroll\">\n        <!-- 點擊後改 data === 會無效 一個 = 就好 -->\n        <a class=\"nav-item nav-link text-nowrap px-2\" @click=\"category = 'all', getData()\" onclick=\"event.preventDefault()\" href=\"#\">全部商品</a>\n        <a class=\"nav-item nav-link text-nowrap px-2\" @click=\"pagination = {total_pages: 1}, category = 'type1'\" onclick=\"event.preventDefault()\" href=\"#\">文物書籍</a>\n        <a class=\"nav-item nav-link text-nowrap px-2\" @click=\"pagination = {total_pages: 1}, category = 'type2'\" onclick=\"event.preventDefault()\" href=\"#\">周邊雜誌</a>\n        <a class=\"nav-item nav-link text-nowrap px-2\" @click=\"pagination = {total_pages: 1}, category = 'type3'\" onclick=\"event.preventDefault()\" href=\"#\">其他用品<span class=\"sr-only\">(current)</span></a>\n      </div>\n    </nav>\n    <div class=\"container mt-md-5 mt-3 mb-7\">\n      <div class=\"row\">\n        <!-- 商品單項 -->\n        <!-- V-FOR -->\n        <!-- <div class=\"col-md-3\" v-for=\"item in products\" :key=\"item.id\" > -->\n        <div class=\"col-md-3\" v-for=\"item in filterDate(products)\" :key=\"item.id\" >\n        <!-- <div class=\"col-md-3\" v-for=\"item in filterDate(productsAll)\" :key=\"item.id\" > -->\n          <div class=\"card border-0 mb-4 position-relative\">\n            <!-- <img :src=\"item.imageUrl\" class=\"card-img-top rounded-0\" alt=\"...\"> -->\n            <div :style=\"{backgroundImage: `url(${item.imageUrl})`}\"\n            style=\"height: 325px; background-size: cover; background-position:center center\">\n            </div>\n            <!-- 商品單向頁面 ${id} -->\n            <!-- 我的最愛 icon -->\n            <router-link to=\"\" >\n              <!-- bi-heart-fill 實心 -->\n              <i class=\"bi bi-suit-heart position-absolute btn btn-lg\" style=\"right: 3px; top: 3px; color:red;\"></i>\n            </router-link>\n            <!-- 商品資料 -->\n            <div class=\"card-body p-0\">\n              <h4 class=\"mb-0 mt-3\">\n                <!-- text-decoration:none; 去除底線 -->\n                <router-link class=\"card-text text-muted\" :to=\"`/product/${item.id}`\" style=\"text-decoration:none;\">\n                  <!-- 限制title size得用p、英文字跟中文 rem不太一樣、滑鼠hover顏色 -->\n                  <p class=\"fs-6 m-0\" style=\"height: 3rem; overflow:hidden;\" onmouseover=\"this.style.color='#B08968';\" onmouseout=\"this.style.color='';\">{{item.title}}</p>\n                </router-link>\n              </h4>\n              <p class=\"card-text text-muted mb-0\" style=\"height: 4.5rem; overflow:hidden;\">{{item.description}}</p>\n              <!-- 原本的價目 -->\n              <!-- <p class=\"text-muted mt-3\">NT$ {{item.price}} / {{item.unit}}</p> -->\n              <!-- <p class=\"text-muted mt-3\">NT$ {{item.price}} / {{item.unit}}</p> -->\n              <button @click.prevent=\"addToCart(item)\" type=\"button\" class=\"btn btn-secondary position-absolute bottom-0 start-0 mb-2\">加入購物車</button>\n              <p class=\"mb-0 text-muted text-end mt-2\"><del>NT$ {{item.origin_price}}</del></p>\n              <p class=\"h4 fw-bold text-end mt-1 fs-5\">NT$ {{item.price}}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 分頁元件 -->\n      <PaginationView class=\"mt-6\" :pages=\"pagination\" @get-data=\"getData\"></PaginationView>\n    </div>\n</template>\n\n<script>\n\nimport emitter from '@/libs/emitter'\nimport PaginationView from '@/components/PaginationView.vue'\nexport default {\n  data() {\n    return {\n      category: 'all', // 商品分類 分流用\n      products: [], // API抓下來儲存商品用 - 分頁ver\n      productsAll: [], // API抓下來儲存商品用 - allver\n      pagination: '' // 分頁用\n    }\n  },\n  components: {\n    PaginationView\n  },\n  methods: {\n    // 抓商品資料 - 分頁\n    getData(page = 1){\n      this.$http.get(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/products/?page=${page}`)\n      .then((res) => {\n        console.log(res)\n        this.products = res.data.products\n        this.pagination = res.data.pagination\n        console.log(this.products)\n      })\n      .catch((err) => {\n        console.dir(err)\n      })\n    },\n    // 抓商品資料 - All\n    getDataAll(){\n      this.$http.get(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/products/all`)\n      .then((res) => {\n        this.productsAll = res.data.products\n      })\n      .catch((err) => {\n        console.dir(err)\n      })\n    },\n    // 分流後 跑 商品array 篩選裡面物件的值 > 轉存篩選目標 > 回傳篩選目標\n    filterDate(item){\n      console.log('filterDate')\n      if (this.category === 'all'){\n        return item\n      } else if (this.category === 'type1'){\n        // 篩選另存 > 回傳篩選結果\n        const newArray = item.filter(item =>\n          item.category === '分類一'\n        )\n        return newArray\n      } else if (this.category === 'type2'){\n        // 篩選另存 > 回傳篩選結果\n        const newArray = item.filter(item =>\n          item.category === '分類二'\n        )\n        return newArray\n      } else if (this.category === 'type3'){\n        // 篩選另存 > 回傳篩選結果\n        const newArray = item.filter(item =>\n          item.category === '分類三'\n        )\n        return newArray\n      }\n    },\n    // 加入購物車 這裡 用html傳進來的 item抓id、qty先暫時用預設 還沒有做數量功能\n    addToCart(item, qty = 1){\n      const data = {\n        product_id: item.id,\n        qty\n      }\n      this.$http.post(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/cart`, { data })\n      .then((res) => {\n        console.log('addToCart()', res)\n        emitter.emit('get-cart') // 此處觸發 NAVBAR接收\n      })\n      .catch((err) => {\n        console.dir(err.data.message)\n      })\n    }\n  },\n  mounted() {\n    this.getData()\n    // this.getDataAll()\n  }\n}\n</script>\n","<template>\r\n      <!-- 分頁按鈕 -->\r\n    <nav aria-label=\"Page navigation example\">\r\n      <!-- 至中ver -->\r\n        <ul class=\"pagination justify-content-center\">\r\n      <!-- 靠左ver -->\r\n        <!-- <ul class=\"pagination\"> -->\r\n        <li class=\"page-item\" :class=\"{ disabled : !pages.has_pre }\">\r\n            <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\" $emit('get-data', inside_pages.current_page - 1)\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n            </a>\r\n        </li>\r\n        <li class=\"page-item\" v-for=\" page in pages.total_pages \" :key=\" page + 'page'\" :class=\" {active: page === pages.current_page}\">\r\n            <!-- 追加 .prevent 無效 a link 轉址 -->\r\n            <a class=\"page-link\" href=\"\" @click.prevent=\" $emit('get-data', page) \"> {{ page }} </a>\r\n        </li>\r\n        <li class=\"page-item\" :class=\"{ disabled : !pages.has_next }\" >\r\n            <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\" $emit('get-data', inside_pages.current_page + 1)\" >\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n      return {\r\n        inside_pages: {}\r\n      }\r\n    },\r\n    props: ['pages'],\r\n    updated() {\r\n      this.inside_pages = this.pages\r\n    }\r\n}\r\n</script>\r\n","import { render } from \"./PaginationView.vue?vue&type=template&id=2c7fdead\"\nimport script from \"./PaginationView.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Coding\\\\Learn-Code\\\\Ming_github_io\\\\Vue\\\\homeWork\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=2d3bfcea\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Coding\\\\Learn-Code\\\\Ming_github_io\\\\Vue\\\\homeWork\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","style","onmouseover","onmouseout","onClick","$data","$options","onclick","href","total_pages","_createElementBlock","_Fragment","_renderList","item","key","id","backgroundImage","imageUrl","_createVNode","_component_router_link","to","_hoisted_9","_toDisplayString","title","description","type","_hoisted_14","origin_price","price","_component_PaginationView","pages","onGetData","_hoisted_3","_hoisted_6","disabled","$props","has_pre","_ctx","current_page","page","active","_hoisted_5","has_next","data","inside_pages","props","updated","this","__exports__","category","products","productsAll","pagination","components","PaginationView","methods","getData","$http","get","then","res","console","log","catch","err","dir","getDataAll","filterDate","newArray","filter","addToCart","qty","product_id","post","emitter","message","mounted","render"],"sourceRoot":""}