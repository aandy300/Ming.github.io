"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[98],{422:function(t,n,e){function a(t){return{all:t=t||new Map,on:function(n,e){var a=t.get(n);a?a.push(e):t.set(n,[e])},off:function(n,e){var a=t.get(n);a&&(e?a.splice(a.indexOf(e)>>>0,1):t.set(n,[]))},emit:function(n,e){var a=t.get(n);a&&a.slice().map((function(t){t(e)})),(a=t.get("*"))&&a.slice().map((function(t){t(n,e)}))}}}e.d(n,{Z:function(){return i}});const o=a();var i=o},9098:function(t,n,e){e.r(n),e.d(n,{default:function(){return y}});var a=e(3396),o=e(7139);const i=(0,a._)("h2",null,"購物車",-1),l={class:"table align-middle"},c=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"圖片"),(0,a._)("th",null,"商品名稱"),(0,a._)("th",null,"價格"),(0,a._)("th")])],-1),s={style:{width:"200px"}},r={key:0},u={class:"h5"},d={key:1},p={class:"h6"},h={class:"h5"},g={class:"btn-group btn-group-sm"},_=["onClick"],b=["onClick"];function v(t,n,e,v,f,k){return(0,a.wg)(),(0,a.iD)(a.HY,null,[i,(0,a._)("table",l,[c,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.products,(n=>((0,a.wg)(),(0,a.iD)("tr",{key:n.id},[(0,a._)("td",s,[(0,a._)("div",{style:(0,o.j5)([{backgroundImage:`url( ${n.imageUrl})`},{height:"100px","background-size":"cover","background-position":"center"}])},null,4)]),(0,a._)("td",null,(0,o.zw)(n.title),1),(0,a._)("td",null,[n.price==n.origin_price?((0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",u,(0,o.zw)(n.price)+" 元",1)])):((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("del",p,"原價 "+(0,o.zw)(n.origin_price)+" 元",1),(0,a._)("div",h,"現在只要 "+(0,o.zw)(n.price)+" 元",1)]))]),(0,a._)("td",null,[(0,a._)("div",g,[(0,a._)("button",{onClick:e=>t.openProductMoadl(n.id),type:"button",class:"btn btn-outline-secondary"}," 查看更多 ",8,_),(0,a._)("button",{onClick:t=>k.addToCart(n.id),type:"button",class:"btn btn-outline-danger"}," 加到購物車 ",8,b)])])])))),128))])])],64)}var f=e(422),k={data(){return{cartData:{},products:[]}},methods:{isPhone(t){const n=/^(09)[0-9]{8}$/;return!!n.test(t)||"需要正確的電話號碼"},getData(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ming123/products/all").then((t=>{this.products=t.data.products,console.log("getData()",t)})).catch((t=>{alert(t.data.message)}))},addToCart(t,n=1){const e={product_id:t,qty:n};this.$http.post("https://vue3-course-api.hexschool.io/v2/api/ming123/cart",{data:e}).then((t=>{console.log("addToCart()",t),f.Z.emit("get-cart")})).catch((t=>{alert(t.data.message)}))}},mounted(){this.getData()}},w=e(89);const m=(0,w.Z)(k,[["render",v]]);var y=m}}]);
//# sourceMappingURL=98.441c9df0.js.map