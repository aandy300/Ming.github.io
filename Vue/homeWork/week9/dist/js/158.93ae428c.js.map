{"version":3,"file":"js/158.93ae428c.js","mappings":"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","sources":["webpack://week9/./src/views/Front/CartView.vue","webpack://week9/./src/views/Front/CartView.vue?2af0"],"sourcesContent":["<template>\n<div v-if=\"ready === true\" class=\"container\">\n  <!-- card 付款狀態 -->\n  <div v-if=\"cartData.carts.length === 0\" class=\"d-flex justify-content-center my-5\">\n    <div class=\"col-md-6 card text-center\" style=\"\">\n      <div class=\"card-body\">\n        <strong ><p class=\"m-0 text-primary\" style=\"font-size: 2rem;\">購物車目前沒有東西哦</p></strong>\n        <router-link to=\"/products\">\n        <button class=\"col-4 btn btn-outline-primary mt-2\" type=\"button\">前去購買</button>\n        </router-link>\n      </div>\n    </div>\n  </div>\n  <!-- 購買步驟狀態 -->\n  <div v-else class=\"row d-flex flex-nowrap justify-content-center align-items-center\">\n    <!-- style=\"max-width: 18rem;\" -->\n    <!-- OKver -->\n    <!-- <div style=\"max-width: 18rem;\" class=\"col-3 d-flex align-items-center card text-white bg-secondary my-5 mx-4 rounded \">\n      <i class=\"bi bi-check2-circle mt-2\" style=\"font-size:40px\"></i>\n        <p class=\"card-text text-center m-0\">Step1</p>\n        <p class=\"card-text text-center mb-2\">確認訂單</p>\n    </div> -->\n    <!-- wait ver -->\n    <!-- <div style=\"max-width: 18rem;\" class=\"col-3 d-flex align-items-center card text-balck bg-info my-5 mx-4 rounded\">\n      <i class=\"bi bi-dash-circle-dotted mt-2\" style=\"font-size:40px\"></i>\n        <p class=\"card-text text-center m-0\">Step2</p>\n        <p class=\"card-text text-center mb-2\">建立訂單</p>\n    </div> -->\n    <div style=\"max-width: 18rem;\" class=\"col-3 d-none d-sm-block card text-white bg-secondary my-5 mx-4 rounded \">\n      <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center\">\n      <i class=\"bi bi-check2-circle mt-2\" style=\"font-size:40px\"></i>\n        <p class=\"card-text text-center m-0\">Step1</p>\n        <p class=\"card-text text-center mb-2\">確認訂單</p>\n      </div>\n    </div>\n    <div style=\"max-width: 18rem;\" class=\"col-3 d-none d-sm-block card text-balck bg-info my-5 mx-4 rounded\">\n      <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center\">\n        <i class=\"bi bi-dash-circle-dotted mt-2\" style=\"font-size:40px\"></i>\n        <p class=\"card-text text-center m-0\">Step2</p>\n        <p class=\"card-text text-center mb-2\">建立訂單</p>\n      </div>\n    </div>\n    <div style=\"max-width: 18rem;\" class=\"col-3 d-none d-sm-block card text-balck bg-info my-5 mx-4 rounded\">\n      <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center\">\n        <i class=\"bi bi-dash-circle-dotted mt-2\" style=\"font-size:40px\"></i>\n        <p class=\"card-text text-center m-0\">Step3</p>\n        <p class=\"card-text text-center mb-2\">付款</p>\n      </div>\n    </div>\n    <!-- for rwd 顯示 單個 購買狀態 -->\n    <div style=\"max-width: 18rem;\" class=\"col-10 d-flex align-items-center d-block d-sm-none card text-balck bg-info my-5 mx-4 rounded\">\n      <i class=\"bi bi-dash-circle-dotted mt-2\" style=\"font-size:40px\"></i>\n        <p class=\"card-text text-center m-0\">Step2</p>\n        <p class=\"card-text text-center mb-2\">建立訂單</p>\n    </div>\n  </div>\n  <div class=\"row\">\n    <!-- 購物車列表 - 商品列表 -->\n    <div class=\"col-xl-6\">\n      <div class=\"d-flex justify-content-between mb-2\">\n      <h4>訂單內容</h4>\n      <!-- 清空購物車 - 按鈕 -->\n      <div class=\"text-end\">\n        <button  @click=\"removeAllCartItem\" :class=\" {'disabled' :cartData.carts.length === 0 }\"\n          class=\"btn btn-outline-primary\" type=\"button\">清空購物車</button>\n      </div>\n      <!-- 清空購物車 - 按鈕 結束 -->\n      </div>\n      <table class=\"table align-middle\">\n        <thead>\n          <tr>\n            <th></th>\n            <th class=\"d-none d-sm-block\">圖片</th>\n            <th>品名</th>\n            <th style=\"width: 150px\">數量/單位</th>\n            <th>單價</th>\n          </tr>\n        </thead>\n        <tbody>\n          <!-- 購物車 - 架構 綁 V -->\n          <!-- 折扣卷 購物車有資料時才顯示 -->\n          <template v-if=\"cartData.carts\">\n            <tr v-for=\" item in cartData.carts\" :key=\"item.id\">\n              <td>\n                <!-- 購物車 - x 移除購物車商品按鈕 -->\n                <button @click=\"removeCartItem( item.id )\" :disabled=\"isLoadingItem === item.id\"\n                type=\"button\" class=\"btn btn-outline-danger btn-sm px-2 py-1\">\n                  x\n                </button>\n              </td>\n              <!-- d-none d-sm-block  = 手機板隱藏圖片 -->\n              <td class=\"d-none d-sm-block\">\n                <!-- 購物車 - 商品圖片 -->\n                <img style=\"height: 100px;\" class=\"img-fluid\" :src=\"item.product.imageUrl\" alt=\"\">\n                <!-- <div class=\"img-fluid\"\n                :style=\"{ backgroundImage: `url( ${ item.product.imageUrl })`}\"\n                style=\"height: 100px; background-size: cover; background-position: center\">\n                </div> -->\n              </td>\n              <td>\n                {{ item.product.title }}\n                <!-- <div class=\"text-success\">已套用優惠券</div> -->\n              </td>\n              <td>\n                <!-- 購物車 - 商品數量 -->\n                <div class=\"input-group input-group-sm\">\n                  <div class=\"input-group mb-3\">\n                    <!-- <input v-model=\" item.qty \" min=\"1\" type=\"number\" class=\"form-control\"> -->\n                    <select id=\"\" class=\"form-select mt-3\"\n                    v-model=\" item.qty\" @change=\" updataCartItem( item )\" :disabled=\"isLoadingItem === item.id\">\n                      <!-- :selected=\"item.qty === num\" -->\n                      <option :value=\"num\" v-for=\" num in 20\" :key=\"`${num} + ${item.id}`\" > {{ num }} </option>\n                    </select>\n                    <span class=\"input-group-text mt-3\" id=\"basic-addon2\">{{ item.product.unit }}</span>\n                  </div>\n                </div>\n              </td>\n              <td class=\"text-end\">\n                {{ item.total }}\n                <!-- <small class=\"text-success\">折扣價：</small> -->\n              </td>\n            </tr>\n          </template>\n        </tbody>\n        <!-- 上面綁 V 結束 -->\n        <!-- 總計 -->\n        <tfoot>\n          <tr>\n            <td></td>\n            <!-- colspan = 要跨行的列數 -->\n            <td colspan=\"3\" class=\"text-end fs-3\">總計</td>\n            <td class=\"text-end fs-3\">{{ cartData.total }}</td>\n          </tr>\n          <tr>\n            <!-- <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n            <td class=\"text-end text-success\">{{  }}</td> -->\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n    <!-- 購物車列表 - 商品列表 結束 -->\n\n    <!-- 表單驗證 -->\n    <div class=\"col-xl-6\">\n    <h4 class=\"ms-3 d-none d-xl-block\">收件人資訊</h4>\n    <h4 class=\"d-xl-none\">收件人資訊</h4>\n      <div class=\"my-3 row justify-content-center\">\n        <!-- @submit=\"createOrder\" -->\n        <v-form @submit=\"createOrder\" ref=\"form\" class=\"col-md-9\" v-slot=\"{ errors }\" >\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\">Email</label>\n            <v-field v-model=\"form.user.email\" id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n                      :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\" rules=\"email\"\n                    ></v-field>\n            <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\">收件人姓名</label>\n            <v-field v-model=\"form.user.name\" id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['姓名'] }\"\n                      placeholder=\"請輸入姓名\" rules=\"required\"></v-field>\n            <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\">收件人電話</label>\n            <v-field v-model=\"form.user.tel\" id=\"tel\" name=\"電話\" type=\"number\" class=\"form-control\" :class=\"{ 'is-invalid': errors['電話'] }\"\n                      placeholder=\"請輸入電話\" :rules=\"isPhone\" ></v-field>\n            <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\">收件人地址</label>\n            <v-field v-model=\"form.user.address\" id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['地址'] }\"\n                      placeholder=\"請輸入地址\" rules=\"required\" ></v-field>\n            <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"message\" class=\"form-label\">留言</label>\n            <textarea v-model=\"form.message\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\" ></textarea>\n          </div>\n          <div class=\"text-end\">\n            <button type=\"submit\" class=\"col-12 btn btn-primary\" :disabled=\"Object.keys(errors).length > 0 || cartData.carts.length === 0 \"\n                    >送出訂單</button>\n          </div>\n        </v-form>\n\n      </div>\n    </div>\n    <!-- 表單驗證 結束 -->\n  </div>\n</div>\n</template>\n\n<script>\n\nimport emitter from '@/libs/emitter'\n\nexport default {\n  data() {\n    return {\n      ready: false,\n      cartData: {\n        // length 無校關係 生命週期原因 所以這裡事先寫好結構\n        carts: []\n      },\n      products: [],\n      productsID: '',\n      isLoadingItem: '',\n      form: {\n          user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      }\n    }\n  },\n  components: {\n  },\n  methods: {\n    // 以下購物車相關\n    // 抓購物車資料\n    getCart(){\n      this.$http.get(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/cart`)\n      .then((res) => {\n        this.cartData = res.data.data\n        this.ready = true\n        console.log('getCart()', res)\n      })\n      .catch((err) => {\n        alert(err.data.message)\n      })\n    },\n    // 更改購物車商品數量\n    updataCartItem(item){\n      const data = {\n        product_id: item.id,\n        qty: item.qty\n      }\n      this.isLoadingItem = item.id\n      this.$http.put(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/cart/${item.id}`, { data })\n      .then((res) => {\n        console.log('updataCartItem()', res)\n        this.getCart()\n        this.isLoadingItem = ''\n        // 這是通知 致行 navbar 的\n        emitter.emit('get-cart', () => {\n          this.getCart()\n        })\n      })\n      .catch((err) => {\n        console.dir(err.data.message)\n        alert(err.data.message)\n      })\n    },\n    // 刪除購物車 單體\n    removeCartItem(id){\n      this.isLoadingItem = id\n      this.$http.delete(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/cart/${id}`)\n      .then((res) => {\n        console.log('removeCartItem()', res)\n        this.getCart()\n        // 這是通知 致行 navbar 的\n        emitter.emit('get-cart', () => {\n          this.getCart()\n        })\n        this.isLoadingItem = ''\n      })\n      .catch((err) => {\n        alert(err.data.message)\n      })\n    },\n    // 刪除購物車 全部\n    removeAllCartItem(){\n      this.$http.delete(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/carts`)\n      .then((res) => {\n        console.log('removeAllCartItem()', res)\n        this.getCart()\n        // 這是通知 致行 navbar 的\n        emitter.emit('get-cart', () => {\n          this.getCart()\n        })\n      })\n      .catch((err) => {\n        alert(err.data.message)\n      })\n    },\n    createOrder(){\n      const order = this.form\n      this.$http.post(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/order`, { data: order })\n      .then((res) => {\n        console.log('createOrder()', res)\n        this.$refs.form.resetForm()\n        this.getCart()\n        this.form.message = ''\n        // 這是通知 致行 navbar 的\n        emitter.emit('get-cart', () => {\n          this.getCart()\n        })\n        this.$router.push(`/pay/${res.data.orderId}`)\n        console.log('已送出訂單')\n      })\n      .catch((err) => {\n        console.log(err.data.message)\n      })\n    },\n    // 購物車相關結束\n    // 以下表單驗證用\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼' // phoneNumber.test(外面表單輸入的值?) ? true的結果 : false的結果 嗎\n    }\n  },\n  mounted() {\n    this.getCart()\n  }\n}\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=51464d7e\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Coding\\\\Learn-Code\\\\Ming_github_io\\\\Vue\\\\homeWork\\\\week9\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","type","_hoisted_8","id","colspan","for","$data","_createElementBlock","carts","length","_hoisted_5","_createVNode","_component_router_link","to","_hoisted_6","_hoisted_12","_hoisted_16","onClick","$options","_hoisted_19","_Fragment","key","_renderList","item","disabled","_hoisted_20","src","product","imageUrl","alt","_toDisplayString","title","qty","$event","onChange","num","value","_hoisted_26","unit","total","_hoisted_29","_hoisted_30","_hoisted_32","_hoisted_34","_hoisted_35","_component_v_form","onSubmit","ref","errors","_hoisted_38","_component_v_field","user","email","name","placeholder","rules","_component_error_message","_hoisted_40","_hoisted_42","tel","_hoisted_44","address","_hoisted_46","message","cols","rows","Object","keys","_hoisted_48","data","ready","cartData","products","productsID","isLoadingItem","form","components","methods","getCart","this","$http","get","then","res","console","log","catch","err","alert","updataCartItem","product_id","put","emitter","dir","removeCartItem","delete","removeAllCartItem","createOrder","order","post","$refs","resetForm","$router","push","orderId","isPhone","phoneNumber","test","mounted","__exports__","render"],"sourceRoot":""}